# ============================================
# ASU Group Four - Job Portal
# Environment Configuration Template
# ============================================
# Copy this file to .env and fill in your actual values
# Never commit the actual .env file to git!

# ============================================
# DATABASE - MongoDB
# ============================================
# Local MongoDB URI (default for development)
MONGODB_URI=mongodb://localhost:27017

# Database name
DATABASE_NAME=job_portal

# For MongoDB Atlas (cloud), use this format instead:
# MONGODB_URI=mongodb+srv://<username>:<password>@<cluster>.mongodb.net/?retryWrites=true&w=majority


# ============================================
# AUTHENTICATION & SECURITY
# ============================================
# JWT Secret Key - MUST be changed in production!
# Generate a secure random string (e.g., use: openssl rand -hex 32)
JWT_SECRET=change-me-to-a-very-long-random-secure-string-min-32-chars

# JWT Algorithm (default: HS256)
JWT_ALGORITHM=HS256

# JWT Token Expiration in minutes (default: 60 = 1 hour)
JWT_EXPIRATION_MINUTES=60


# ============================================
# VECTOR STORE & EMBEDDINGS - ChromaDB
# ============================================
# ChromaDB host (local development)
CHROMADB_HOST=localhost
CHROMADB_PORT=8000

# For persistent storage (optional)
CHROMADB_PERSIST_DIRECTORY=./data/chromadb

# Embeddings Provider: "openai" or "local"
EMBEDDINGS_PROVIDER=openai

# ChromaDB Collection Name
CHROMADB_COLLECTION_NAME=job_embeddings


# ============================================
# OPENAI API (for embeddings & AI features)
# ============================================
# OpenAI API Key - get from: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-your-openai-api-key-here

# OpenAI Embedding Model (default: text-embedding-3-small)
OPENAI_EMBEDDING_MODEL=text-embedding-3-small

# OpenAI Organization ID (optional)
# OPENAI_ORG_ID=org-your-org-id


# ============================================
# EMAIL & NOTIFICATIONS
# ============================================
# Email Provider: "sendgrid" or "smtp"
EMAIL_PROVIDER=sendgrid

# SendGrid API Key - get from: https://app.sendgrid.com/settings/api_keys
SENDGRID_API_KEY=SG.your-sendgrid-api-key-here

# Sender email address (must be verified in SendGrid)
EMAIL_FROM_ADDRESS=noreply@yourjobportal.com
EMAIL_FROM_NAME=Job Portal

# Alternative: SMTP Configuration (if not using SendGrid)
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USERNAME=your-email@gmail.com
# SMTP_PASSWORD=your-app-password
# SMTP_TLS=true


# ============================================
# APPLICATION SETTINGS
# ============================================
# Environment: development, staging, production
ENVIRONMENT=development

# Backend API URL
BACKEND_URL=http://localhost:8000
API_V1_PREFIX=/api/v1

# Frontend URL
FRONTEND_URL=http://localhost:3000

# CORS Origins (comma-separated)
CORS_ORIGINS=http://localhost:3000,http://127.0.0.1:3000


# ============================================
# RECOMMENDATIONS & SCORING
# ============================================
# Hybrid scoring weights (must sum to 1.0)
# BM25 (keyword matching) weight
SCORING_BM25_WEIGHT=0.4

# Vector similarity weight
SCORING_VECTOR_WEIGHT=0.6

# Number of recommendations to return
RECOMMENDATIONS_LIMIT=10

# Explainability: number of top factors to show
EXPLAINABILITY_TOP_N=5


# ============================================
# FILE UPLOAD SETTINGS
# ============================================
# Maximum file size for resume uploads (in MB)
MAX_UPLOAD_SIZE_MB=5

# Allowed file extensions (comma-separated)
ALLOWED_UPLOAD_EXTENSIONS=.pdf,.docx,.doc

# Upload storage directory
UPLOAD_DIRECTORY=./data/uploads


# ============================================
# OBSERVABILITY & LOGGING
# ============================================
# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Log format: json or text
LOG_FORMAT=json

# Enable event logging
ENABLE_EVENT_LOGGING=true


# ============================================
# RATE LIMITING (optional)
# ============================================
# Requests per minute per IP
RATE_LIMIT_PER_MINUTE=60


# ============================================
# DEVELOPMENT TOOLS (optional)
# ============================================
# Enable API documentation (Swagger/ReDoc)
ENABLE_DOCS=true

# Enable debug mode (DO NOT use in production!)
DEBUG=true

# Reload on code changes (development only)
RELOAD=true


# ============================================
# TESTING (optional)
# ============================================
# Use separate database for tests
TEST_DATABASE_NAME=job_portal_test

# Mock external services in tests
MOCK_EXTERNAL_SERVICES=true
